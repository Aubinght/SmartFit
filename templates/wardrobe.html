{% extends "template.html" %}

{% block content %}
<style>
    .filter-section { margin-bottom: 30px; text-align: center; }
    .filter-link { margin: 5px; padding: 8px 15px; background: #eee; text-decoration: none; border-radius: 5px; color: #333; display: inline-block; }
    .filter-link.active { background: #86b9bb; color: white; }
    
    .image-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; background-color: #f4f4f4; padding: 20px; border-radius: 10px; }
    .item-card { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); text-align: center; width: 180px; }
    .item-card img { width: 100%; height: 180px; object-fit: cover; border-radius: 5px; }
    .delete-btn { margin-top: 10px; background-color: #ff6b6b; border: none; color: white; padding: 5px 10px; border-radius: 3px; cursor: pointer; }
</style>

<div class="gallery">
    <h2>Your Wardrobe</h2>
    
    <div class="filter-section">
        <h3>Filter by category:</h3>
        <a href="{{ url_for('wardrobe') }}" class="filter-link">All</a>
        {% for cat in categories %}
            <a href="{{ url_for('wardrobe', category=cat) }}" class="filter-link active">{{ cat }}</a>
        {% endfor %}
    </div>

    <div class="image-container">
        {% if clothes %}
            {% for item in clothes %}
                {% set relative_path = item.image_path.replace('static/', '') %}
                <div class="item-card">
                    <img src="{{ url_for('static', filename=relative_path) }}" alt="{{ item.category }}">
                    <p><strong>{{ item.category }}</strong><br><small>{{ item.color }}</small></p>
                    <form action="{{ url_for('delete_item', item_id=item.id) }}" method="POST" onsubmit="return confirm('Delete this garment?');">
                        <button type="submit" class="delete-btn">Delete</button>
                    </form>
                </div>
            {% endfor %}
        {% else %}
            <p>Your wardrobe is empty ðŸ§º <a href="{{ url_for('upload') }}">Add clothes</a>!</p>
        {% endif %}
    </div>
</div>
{% endblock %}